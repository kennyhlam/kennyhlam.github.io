<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Ramblings and Wonderings</title>
        <meta name="author">
        <meta name="description" content="A random collection of thoughts, philosophy, and tech.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16" />
          <link href="https://kennyhlam.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="Ramblings and Wonderings" />
          <link href="https://kennyhlam.github.io/blog/index.xml" rel="feed" type="application/rss+xml" title="Ramblings and Wonderings" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://kennyhlam.github.io/css/styles.css">
        <link rel="icon" href="https://kennyhlam.github.io/favicon.ico">
        <link rel="apple-touch-icon" href="https://kennyhlam.github.io/apple-touch-icon.png" />
        <link rel="stylesheet" href="https://kennyhlam.github.io/css/highlightjs/monokai.css">
        <script src="https://kennyhlam.github.io/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(https://kennyhlam.github.io/img/harbor2.jpg) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(https://kennyhlam.github.io/img/harbor2.jpg);
        }}
       .site-header {
         background: #2a373d url(https://kennyhlam.github.io/img/harbor2.jpg) no-repeat center center;
         z-index: -1;
         background-size: 100% auto;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Ramblings and Wonderings</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="https://kennyhlam.github.io/" title="Back to home">&laquo; Back to home</a>
            
<h1><a href="https://kennyhlam.github.io/2016/08/hugo-issues" title="Hugo Issues">Hugo Issues</a></h1>

<footer class="post-info">Posted on <span class="post-meta"><time datetime="2016.08.14">2016.08.14</time>

    &middot; Tagged in
        
        <a href="https://kennyhlam.github.io/tags/golang">golang</a>, 
        
        <a href="https://kennyhlam.github.io/tags/hugo">hugo</a>, 
        
        <a href="https://kennyhlam.github.io/tags/software">software</a>, 
        
        <a href="https://kennyhlam.github.io/tags/technology">technology</a>
        
    

</span>
</footer>

            <p>There are huge struggles when it comes to using new technology sometimes, and it seems that Hugo is no exception. By &ldquo;new&rdquo;, I mean either because it&rsquo;s new to you or because it&rsquo;s actually new (immature). In this case, I&rsquo;m tempted to lean towards the latter, since Golang and Hugo are both relatively new to the scene.</p>

<p>In particular, I&rsquo;m in the middle of making a post about the different webframeworks available with Golang (you&rsquo;ll notice I always say &lsquo;Golang&rsquo; instead of just &lsquo;Go&rsquo;&ndash;despite it&rsquo;s official name, it&rsquo;s a lot harder to google when you just say &lsquo;Go&rsquo;). That post may be published either before or after this one, depending on how long it takes me to do my analysis.</p>

<p>Anyways, so here&rsquo;s the general layout of the two things I wanted to do: create a list of links with associated data and create a list of summaries which may be expanded. For example, with Ruby you might have a few frameworks you want to talk about:</p>

<ul>
<li><p><a href="http://rubyonrails.org/">Rails</a></p></li>

<li><p><a href="http://www.sinatrarb.com/">Sinatra</a></p></li>

<li><p><a href="http://hanamirb.org/">Hanami</a></p></li>

<li><p>etc.</p></li>
</ul>

<p>However, you might also have some additional items associated with each of these, maybe a short summary, analysis, and rating. You want a separate section later to include this information, with your additional analysis collapsible (because it&rsquo;s long).</p>

<p>It might look something like:</p>

<ul>
<li><p>Rails; full-blown with its own ORM and most popular of all web frameworks</p>

<ul>
<li>expandable analysis link</li>
</ul></li>

<li><p>Sinatra; much easier to start with and light-weight</p>

<ul>
<li>expandable analysis link</li>
</ul></li>

<li><p>Hanami; immature but many promising features</p>

<ul>
<li>expandable analysis link</li>
</ul></li>
</ul>

<p>In the end, you decide that there&rsquo;s a lot of information about each of these, and it might be easier to organize into data files, which Hugo <a href="https://gohugo.io/extras/datafiles/">supports</a>. For things to be expandable, you need write some HTML and JavaScript (no biggie). However, you can&rsquo;t embed HTML into your markdown, so you can either write a template for your specific page, or you can write <a href="https://gohugo.io/extras/shortcodes/">shortcodes</a>. I could see myself needing the list of links and collapsible descriptions more often than just once, so I opted for the shortcodes option.</p>

<p>The data files themselves are nested like so:</p>

<pre><code>&lt;top level hugo directory&gt;
    archetypes/
    config.toml
    content
    data
       ruby 
            webframeworks
                rails.toml
                sinatra.toml
                hanami.toml
    layouts
    public
    themes    
</code></pre>

<p>The data itself might look like:</p>

<pre><code>rails.toml
Name = &quot;Rails&quot;
Summary = &quot;full-blown with its own ORM and most popular of all frameworks&quot;
Analysis = &quot;wow such ingenious insights into the Rails framework&quot;
</code></pre>

<p>Thanks to the <a href="https://jpescador.com/blog/leverage-shortcodes-in-hugo/">internet</a> there&rsquo;s some good examples of shortcodes. However, it feels almost like these shortcodes were very rigid, like they were born from a time before, because they allow very little flexibility. How are variables allotted? When am I allowed to <code>:=</code> or <code>=</code>? What types are each of these context variables? In order to figure out Hugo&rsquo;s underlying mechanisms, I did what I always do&ndash;break stuff and println. Golang has some good built-in <code>println(&quot;%T\n&quot;, variable)</code> to determine type and <code>println(&quot;%v\n&quot;, variable)</code> to determine value. Also, your hugo instance will print out your issues if there&rsquo;s some compile problem.</p>

<p>At the end of the day, the only thing I wanted to really do was call the shortcode like <code>&lt; list-links category=&quot;ruby/webframeworks&quot; &gt;</code> and <code>&lt; list-summary-analysis category=&quot;ruby/webframeworks&quot; collapsed=true &gt;</code>, which might lead to code which roughly looks like:</p>

<pre><code>{{ $categories = split (.Get &quot;category&quot;) &quot;/&quot; }}
{{ $mapping = $.Site.Data }}

{{ range $index, $subcategory := $categories }}
    {{ $mapping = index $mapping $subcategory }}
    {{ if eq (add $index 1) (len $categories) }}
        ## render all your stuff appropriately
    {{ else }}
    {{ end }}
{{ end }}
</code></pre>

<p>However, you apparently can&rsquo;t re-assign variables like <code>$mapping</code> in such a fashion, despite my permutation of <code>&amp;</code>, <code>*</code>, <code>=</code>, and <code>:=</code>&rsquo;s. The only error messages I got were complaints about syntax or issues with the line trying to do the assignment. The lack of truly helpful error messages, documentation, or widespread examples really hampers the transparency of what&rsquo;s happening or how this sort of problem should be correctly handled. In the end, this was the cause of endless frustration and I settled on a not-so-elegant solution of hard-coding how to retrieve the correct sup-mapping out, but it&rsquo;s definitely not robust and won&rsquo;t extend beyond a fixed number of categories. Realistically, I hope I never have more than three levels of categorization for my data on the site, so I think it&rsquo;ll be okay. This is just an example of the types of frustrations you&rsquo;ll have to be able to bear with if you&rsquo;re going to branch out and try something hipster in the world of technology.</p>

            <ul class="share-buttons">
    <li>Share this article:</li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fkennyhlam.github.io%2f2016%2f08%2fhugo-issues" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook"></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Hugo%20Issues&amp;url=https%3a%2f%2fkennyhlam.github.io%2f2016%2f08%2fhugo-issues" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Tweet this article"></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=https%3a%2f%2fkennyhlam.github.io%2f2016%2f08%2fhugo-issues" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title="Share on Google&#43;"></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fkennyhlam.github.io%2f2016%2f08%2fhugo-issues&title=Hugo%20Issues" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title="Share on Linkedin"></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3>Comments</h3>
            
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="https://kennyhlam.github.io/img/profile.jpg" alt="Kenny Lam" height="128" width="128"/>
  <p class="name">by 
  <strong>Kenny Lam</strong></p>
  <p class="address">Sunnyvale, CA</p>
  <p class="link"></p>
  <ul class="social">
    












<li><a href="//github.com/kennyhlam" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="https://kennyhlam.github.io/blog/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <p>&copy; 2016 Kenny Lam &middot; Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="https:\/\/kennyhlam.github.io\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="https://kennyhlam.github.io/js/plugins.js"></script>

</body>
</html>

